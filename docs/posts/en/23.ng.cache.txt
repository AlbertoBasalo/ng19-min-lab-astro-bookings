ğŸ…°ï¸ Angular 1ï¸âƒ£9ï¸âƒ£ ğŸ„Advent  
Day 2ï¸âƒ£3ï¸âƒ£ : Cache

âœ… Cache HTTP calls
const cache = new Map<string, HttpResponse<any>>();
export const cacheInterceptor: HttpInterceptorFn = (req, next) => {
  if (req.method !== 'GET') return next(req);
  const cachedResponse: HttpResponse<any> | undefined = cache.get(req.url);
  if (cachedResponse) return of(cachedResponse);
  return next(req).pipe(
    tap((event) => {
      if (event instanceof HttpResponse) {
        cache.set(req.url, event);
      }
    })
  );
};

âœ… Register interceptor
{
  providers: [
    provideHttpClient(  
      withInterceptors([cacheInterceptor])
    ),	
  ],
}	



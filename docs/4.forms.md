# Angular 19 Tutorial - Part 4: Forms

## Forms Module
Before using any form related feature, you need to import the `FormsModule` module in your standalone component.

```ts
import { FormsModule } from '@angular/forms';

@Component({
  imports: [FormsModule],
  template: `...`,
})
export class MyComponent {}
```

The you can use the `ngModel` directive in your template, to have double binding between the template and the component.

```html
<input
    name="email"
    [(ngModel)]="email"
/>
<input
    name="password"
    [(ngModel)]="password"
/>
<button (click)="login()">Login</button>
```

```ts
login() {
    console.log('Login: ', this.email, this.password);
}
```

## Validation

You can use validation attributes on any input.

```html
<input
    name="email"
    [(ngModel)]="email"
    required
    email
/>
```

And have a reference to the `ngModel` directive in your component that will be used to check if the input is valid.

```html
<input
    name="email"
    [(ngModel)]="email"
    #emailModel="ngModel"
    required
    email
    [attr.aria-invalid]="emailModel.invalid"
/>

## Signals and Forms 

Any input can be bind to writable signals. This way we can react to changes in the signals and use them to validate the form.

```html
<input
    id="confirmPassword"
    name="confirmPassword"
    type="password"
    placeholder="Confirm Password"
    [(ngModel)]="confirmPassword"
    #confirmPasswordModel="ngModel"
    [attr.aria-invalid]="modelInvalid(confirmPasswordModel)"
/>
```

```ts
password = signal('');
confirmPassword = signal('');
confirmPasswordModel = viewChild<NgModel>('confirmPasswordModel');
private passwordValidationEffect = effect(() => {
  const model = this.confirmPasswordModel();
  if (!model) return;
  const control = model.control;
  if (this.password() === this.confirmPassword()) {
    control.setErrors(null);
  } else {
    control.setErrors({ passwordMismatch: true });
  }
});
```
